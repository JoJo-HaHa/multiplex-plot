

<!DOCTYPE html>
<!--[if IE 8]><html class="no-js lt-ie9" lang="en" > <![endif]-->
<!--[if gt IE 8]><!--> <html class="no-js" lang="en" > <!--<![endif]-->
<head>
  <meta charset="utf-8">
  <meta content="Python bar chart visualizations" name="description" />
<meta content="Multiplex, Python, visualizations, bar" name="keywords" />

  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  
	
  <title>5. Bar Charts &mdash; Multiplex 0.4.0 documentation</title>
  
	<meta content="6-b47nDPjK44wloiTTz5ZH1d0PbmODUCmFdUAtM3dR0" name="google-site-verification" />

	<!-- Global site tag (gtag.js) - Google Analytics -->
	<script async src="https://www.googletagmanager.com/gtag/js?id=UA-155003028-1"></script>
	<script>
		window.dataLayer = window.dataLayer || [];
		function gtag(){dataLayer.push(arguments);}
		gtag('js', new Date());

		gtag('config', 'UA-155003028-1');
	</script>


  
  
  
  

  
  <script type="text/javascript" src="_static/js/modernizr.min.js"></script>
  
    
      <script type="text/javascript" id="documentation_options" data-url_root="./" src="_static/documentation_options.js"></script>
        <script type="text/javascript" src="_static/jquery.js"></script>
        <script type="text/javascript" src="_static/underscore.js"></script>
        <script type="text/javascript" src="_static/doctools.js"></script>
        <script type="text/javascript" src="_static/language_data.js"></script>
    
    <script type="text/javascript" src="_static/js/theme.js"></script>

    

  
  <link rel="stylesheet" href="_static/css/theme.css" type="text/css" />
  <link rel="stylesheet" href="_static/pygments.css" type="text/css" />
  <link rel="stylesheet" href="_static/css/multiplex.css" type="text/css" />
    <link rel="index" title="Index" href="genindex.html" />
    <link rel="search" title="Search" href="search.html" />
    <link rel="next" title="Utilities" href="utilities.html" />
    <link rel="prev" title="4. Graph" href="graph.html" /> 
</head>

<body class="wy-body-for-nav">

   
  <div class="wy-grid-for-nav">
    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >
          

          
            <a href="index.html" class="icon icon-home"> Multiplex
          

          
          </a>

          
            
            
          

          
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>

          
        </div>

        <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
          
            
            
              
            
            
              <p class="caption"><span class="caption-text">Contents:</span></p>
<ul class="current">
<li class="toctree-l1"><a class="reference internal" href="drawable.html">1. Getting started</a></li>
<li class="toctree-l1"><a class="reference internal" href="text.html">2. Text Visualizations</a></li>
<li class="toctree-l1"><a class="reference internal" href="timeseries.html">3. Time Series</a></li>
<li class="toctree-l1"><a class="reference internal" href="graph.html">4. Graph</a></li>
<li class="toctree-l1 current"><a class="current reference internal" href="#">5. Bar Charts</a><ul>
<li class="toctree-l2"><a class="reference internal" href="#module-bar.bar100">100% Bar Charts</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="utilities.html">Utilities</a></li>
</ul>

            
          
        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" aria-label="top navigation">
        
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="index.html">Multiplex</a>
        
      </nav>


      <div class="wy-nav-content">
        
        <div class="rst-content">
        
          















<div role="navigation" aria-label="breadcrumbs navigation">

  <ul class="wy-breadcrumbs">
    
      <li><a href="index.html">Docs</a> &raquo;</li>
        
      <li>5. Bar Charts</li>
    
    
      <li class="wy-breadcrumbs-aside">
        
            
            <a href="_sources/bar.rst.txt" rel="nofollow"> View page source</a>
          
        
      </li>
    
  </ul>

  
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
            
    <div class="section" id="bar-charts">
<h1>5. Bar Charts<a class="headerlink" href="#bar-charts" title="Permalink to this headline">¶</a></h1>
<span class="target" id="module-bar"></span><p>Bar charts are one of the most intuitive types of visualizations.
As with the rest of the library, Multiplex makes it easier to create more complex types of bar charts.</p>
<p>At the moment, Multiplex supports only horizontal bar charts, not column charts.
Horizontal bar charts are slightly better for comparisons and readability because they are read from top to bottom.</p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>Are you looking to create bar chart visualizations, not read the in-depth documentation about them?
<a class="reference external" href="https://github.com/NicholasMamo/multiplex-plot/tree/master/examples">Multiplex’s Jupyter Notebook examples</a> are a quick guide to get you up and running.
Check out the <a class="reference external" href="https://github.com/NicholasMamo/multiplex-plot/blob/master/examples/5.%20Bar%20charts.ipynb">bar chart Jupyter Notebook tutorial</a> to learn how to create your own bar chart visualizations.</p>
</div>
<div class="section" id="module-bar.bar100">
<span id="id1"></span><h2>100% Bar Charts<a class="headerlink" href="#module-bar.bar100" title="Permalink to this headline">¶</a></h2>
<p>The <a class="reference internal" href="#bar.bar100.Bar100" title="bar.bar100.Bar100"><code class="xref py py-class docutils literal notranslate"><span class="pre">Bar100</span></code></a> visualization draws stacked bar charts that all add up to 100%.
These types of visualizations are useful to show the make-up of data in terms of percentages.</p>
<img alt="_images/5-natural-gas.png" class="example inline" src="_images/5-natural-gas.png" />
<p>The <a class="reference internal" href="#bar.bar100.Bar100" title="bar.bar100.Bar100"><code class="xref py py-class docutils literal notranslate"><span class="pre">Bar100</span></code></a> visualization is based on <a class="reference external" href="https://matplotlib.org/3.1.1/api/_as_gen/matplotlib.pyplot.barh.html">matplotlib’s barh</a> function.
This class, like the rest of Multiplex’s new visualizations, simplifies the construction of 100% bar chart.
For example, you don’t have to provide percentages; the <a class="reference internal" href="#bar.bar100.Bar100" title="bar.bar100.Bar100"><code class="xref py py-class docutils literal notranslate"><span class="pre">Bar100</span></code></a> visualization automatically converts numbers to percentages.</p>
<p>For readability, the 100% bar chart visualization also makes a few changes to the plot by:</p>
<blockquote>
<div><ul class="simple">
<li><p>Moving the x-axis label to the top of the plot,</p></li>
<li><p>Moving the x-ticks to the top of the plot,</p></li>
<li><p>Converting the x-ticks to percentages, and</p></li>
<li><p>Removing the grid.</p></li>
</ul>
</div></blockquote>
<p>It is very easy to create 100% bar charts.
All you have to do is create a <a class="reference internal" href="drawable.html#drawable.Drawable" title="drawable.Drawable"><code class="xref py py-class docutils literal notranslate"><span class="pre">Drawable</span></code></a> class and call the <a class="reference internal" href="drawable.html#drawable.Drawable.draw_bar_100" title="drawable.Drawable.draw_bar_100"><code class="xref py py-func docutils literal notranslate"><span class="pre">draw_bar_100()</span></code></a> function.
This method expects, at the very least, the values and the name of the 100% bar:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="kn">import</span> <span class="nn">matplotlib.pyplot</span> <span class="kn">as</span> <span class="nn">plt</span>
<span class="kn">from</span> <span class="nn">multiplex</span> <span class="kn">import</span> <span class="n">drawable</span>
<span class="n">viz</span> <span class="o">=</span> <span class="n">drawable</span><span class="o">.</span><span class="n">Drawable</span><span class="p">(</span><span class="n">plt</span><span class="o">.</span><span class="n">figure</span><span class="p">(</span><span class="n">figsize</span><span class="o">=</span><span class="p">(</span><span class="mi">10</span><span class="p">,</span> <span class="mi">10</span><span class="p">)))</span>
<span class="n">viz</span><span class="o">.</span><span class="n">draw_bar_100</span><span class="p">([</span> <span class="mi">5</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">4</span><span class="p">,</span> <span class="mi">7</span><span class="p">,</span> <span class="mi">3</span> <span class="p">],</span> <span class="s1">&#39;bar&#39;</span><span class="p">,</span> <span class="n">alpha</span><span class="o">=</span><span class="mf">0.5</span><span class="p">,</span> <span class="n">color</span><span class="o">=</span><span class="s1">&#39;C1&#39;</span><span class="p">)</span>
<span class="n">viz</span><span class="o">.</span><span class="n">show</span><span class="p">()</span>
</pre></div>
</div>
<p>As usual, you can create more complex visualizations by styling each bar individually and adding legends.</p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>You can view more complex 100% bar chart visualization examples in the <a class="reference external" href="https://github.com/NicholasMamo/multiplex-plot/blob/master/examples/5.%20Bar%20charts.ipynb">bar chart Jupyter Notebook tutorial</a>.</p>
</div>
<dl class="class">
<dt id="bar.bar100.Bar100">
<em class="property">class </em><code class="sig-prename descclassname">bar.bar100.</code><code class="sig-name descname">Bar100</code><span class="sig-paren">(</span><em class="sig-param">*args</em>, <em class="sig-param">**kwargs</em><span class="sig-paren">)</span><a class="headerlink" href="#bar.bar100.Bar100" title="Permalink to this definition">¶</a></dt>
<dd><p>The 100% bar chart visualization draws bars that, unsurprisingly, always sums up to 100%.
Although the 100% bar chart is based on <a class="reference external" href="https://matplotlib.org/3.1.1/api/_as_gen/matplotlib.pyplot.barh.html">matplotlib’s barh</a> function, the <a class="reference internal" href="#bar.bar100.Bar100" title="bar.bar100.Bar100"><code class="xref py py-class docutils literal notranslate"><span class="pre">Bar100</span></code></a> visualization does a lot of work behind the scenes to make it easier to create 100% bar charts.</p>
<p>This class stores the <a class="reference internal" href="drawable.html#drawable.Drawable" title="drawable.Drawable"><code class="xref py py-class docutils literal notranslate"><span class="pre">Drawable</span></code></a> instance.
As usual, the main functionality goes through the <a class="reference internal" href="#bar.bar100.Bar100.draw" title="bar.bar100.Bar100.draw"><code class="xref py py-func docutils literal notranslate"><span class="pre">draw()</span></code></a> function.</p>
<p>The <a class="reference internal" href="#bar.bar100.Bar100.draw" title="bar.bar100.Bar100.draw"><code class="xref py py-func docutils literal notranslate"><span class="pre">draw()</span></code></a> function receives a list of numbers, converts them to percentages and then draws them.
This class keeps track of all the bars that it has drawn in the <code class="docutils literal notranslate"><span class="pre">bars</span></code> instance variable.</p>
<dl class="field-list simple">
<dt class="field-odd">Variables</dt>
<dd class="field-odd"><p><strong>bars</strong> (list of list of <code class="xref py py-class docutils literal notranslate"><span class="pre">matplotlib.patches.Rectangle</span></code>) – A list of bars drawn so far.
Each bar is split into a number of bars that together add up to 100%.</p>
</dd>
</dl>
<dl class="method">
<dt id="bar.bar100.Bar100.__init__">
<code class="sig-name descname">__init__</code><span class="sig-paren">(</span><em class="sig-param">*args</em>, <em class="sig-param">**kwargs</em><span class="sig-paren">)</span><a class="headerlink" href="#bar.bar100.Bar100.__init__" title="Permalink to this definition">¶</a></dt>
<dd><p>Instantiate the 100% bar chart visualization with an empty list of drawn bars.</p>
</dd></dl>

<dl class="method">
<dt id="bar.bar100.Bar100.draw">
<code class="sig-name descname">draw</code><span class="sig-paren">(</span><em class="sig-param">values</em>, <em class="sig-param">name</em>, <em class="sig-param">style_plot=True</em>, <em class="sig-param">min_percentage=1</em>, <em class="sig-param">pad=0.25</em>, <em class="sig-param">label_style=None</em>, <em class="sig-param">*args</em>, <em class="sig-param">**kwargs</em><span class="sig-paren">)</span><a class="headerlink" href="#bar.bar100.Bar100.draw" title="Permalink to this definition">¶</a></dt>
<dd><p>Draws a bar on the <a class="reference internal" href="drawable.html#drawable.Drawable" title="drawable.Drawable"><code class="xref py py-class docutils literal notranslate"><span class="pre">Drawable</span></code></a> that spans 100% of the x-axis.
The function automatically converts the given values into percentages.</p>
<p>The values can be provided either as a list of floats or as a list of dictionaries.
If floats are provided, the function automatically converts them into dictionaries.
Dictionaries should have the following format:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="p">{</span>
  <span class="s1">&#39;value&#39;</span><span class="p">:</span> <span class="mi">10</span><span class="p">,</span>
  <span class="s1">&#39;style&#39;</span><span class="p">:</span> <span class="p">{</span> <span class="s1">&#39;color&#39;</span><span class="p">:</span> <span class="s1">&#39;C1&#39;</span> <span class="p">},</span>
  <span class="s1">&#39;label&#39;</span><span class="p">:</span> <span class="bp">None</span>
<span class="p">}</span>
</pre></div>
</div>
<p>Of these keys, only the <code class="docutils literal notranslate"><span class="pre">value</span></code> is required.</p>
<p>If you provide a <code class="docutils literal notranslate"><span class="pre">label</span></code>, the function automatically adds a legend for the bar.</p>
<p>You can use the <code class="docutils literal notranslate"><span class="pre">style</span></code> to override the general styling options, which you can specify as <code class="docutils literal notranslate"><span class="pre">kwargs</span></code>.
The accepted styling options are those supported by the <a class="reference external" href="https://matplotlib.org/3.1.1/api/_as_gen/matplotlib.pyplot.barh.html">matplotlib.pyplot.barh</a> method.</p>
<p>Use the <code class="docutils literal notranslate"><span class="pre">kwargs</span></code> as a general style, and the dictionary’s <code class="docutils literal notranslate"><span class="pre">style</span></code> as a specific style for each bar.
If you specify a <code class="docutils literal notranslate"><span class="pre">kwargs</span></code> styling option, but it is missing from the dictionary’s <code class="docutils literal notranslate"><span class="pre">style</span></code>, the general style is used.</p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>For example, imagine you specify the bar <code class="docutils literal notranslate"><span class="pre">color</span></code> to be <code class="docutils literal notranslate"><span class="pre">blue</span></code> and the <code class="docutils literal notranslate"><span class="pre">alpha</span></code> to be <code class="docutils literal notranslate"><span class="pre">0.2</span></code> in the <code class="docutils literal notranslate"><span class="pre">**kwargs</span></code>.
If in the dictionary’s <code class="docutils literal notranslate"><span class="pre">style</span></code> of a particular bar you set the <code class="docutils literal notranslate"><span class="pre">alpha</span></code> to be <code class="docutils literal notranslate"><span class="pre">1</span></code>, the bar will be opaque.
However, since the <code class="docutils literal notranslate"><span class="pre">color</span></code> is not specified, it will use the general color: <code class="docutils literal notranslate"><span class="pre">blue</span></code>.</p>
</div>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>values</strong> (<em>list of float</em><em> or </em><em>list of dict</em>) – A list of values to draw.
The visualization expects a <code class="docutils literal notranslate"><span class="pre">list</span></code> of floats or a <code class="docutils literal notranslate"><span class="pre">list</span></code> of <code class="docutils literal notranslate"><span class="pre">dict</span></code> instances as shown above.</p></li>
<li><p><strong>name</strong> (<em>str</em>) – The name of the 100% bar chart.
The function automatically adds this name to the y-axis tick labels next to the drawn bar.</p></li>
<li><p><strong>style_plot</strong> (<em>bool</em>) – <p>A boolean indicating whether the plot should be re-styled.
If it is set to <code class="docutils literal notranslate"><span class="pre">True</span></code>, the visualization:</p>
<blockquote>
<div><ul>
<li><p>Moves the x-axis label to the top of the plot,</p></li>
<li><p>Moves the x-ticks to the top of the plot,</p></li>
<li><p>Converts the x-ticks to percentages, and</p></li>
<li><p>Removes the grid.</p></li>
</ul>
</div></blockquote>
</p></li>
<li><p><strong>min_percentage</strong> (<em>float</em>) – The minimum percentage to show in the 100% bar chart.
This is used so that bars with 0% percentage are still shown with a very thin bar.</p></li>
<li><p><strong>pad</strong> (<em>float</em>) – The amount of padding, in percentage, to apply to the given value.
This padding will be split equally on the left and right of the bar.
In any case, the padding cannot reduce a bar to below the minimum percentage.</p></li>
<li><p><strong>label_style</strong> (<em>dict</em><em> or </em><em>None</em>) – The style of the label.
By default, the label inherits the style from the <code class="docutils literal notranslate"><span class="pre">kwargs</span></code> so that the label is visually similar to the bar.
The <code class="docutils literal notranslate"><span class="pre">label_style</span></code> accepts any styling option supported by the <a class="reference internal" href="text.html#text.annotation.Annotation" title="text.annotation.Annotation"><code class="xref py py-class docutils literal notranslate"><span class="pre">Annotation</span></code></a>’s <a class="reference internal" href="text.html#text.annotation.Annotation.draw" title="text.annotation.Annotation.draw"><code class="xref py py-func docutils literal notranslate"><span class="pre">draw()</span></code></a> function.</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>The list of drawn bars.
These bars are ordered in the same way as the provided values.
Together, they add up to 100%.</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>list of <code class="xref py py-class docutils literal notranslate"><span class="pre">matplotlib.patches.Rectangle</span></code></p>
</dd>
<dt class="field-even">Raises</dt>
<dd class="field-even"><ul class="simple">
<li><p><strong>ValueError</strong> – When no values are given.</p></li>
<li><p><strong>ValueError</strong> – When all values are zero.</p></li>
<li><p><strong>ValueError</strong> – When any value is negative.</p></li>
<li><p><strong>ValueError</strong> – When the minimum percentage is below 0% or above 100%.</p></li>
<li><p><strong>ValueError</strong> – When the minimum percentage multiplied by all values exceeds 100%.</p></li>
<li><p><strong>ValueError</strong> – When the name is empty.</p></li>
</ul>
</dd>
</dl>
</dd></dl>

</dd></dl>

</div>
</div>


           </div>
           
          </div>
          <footer>
  
    <div class="rst-footer-buttons" role="navigation" aria-label="footer navigation">
      
        <a href="utilities.html" class="btn btn-neutral float-right" title="Utilities" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right"></span></a>
      
      
        <a href="graph.html" class="btn btn-neutral float-left" title="4. Graph" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left"></span> Previous</a>
      
    </div>
  

  <hr/>

  <div role="contentinfo">
    <p>
        &copy; Copyright 2019, Nicholas Mamo

    </p>
  </div>
  Built with <a href="http://sphinx-doc.org/">Sphinx</a> using a <a href="https://github.com/rtfd/sphinx_rtd_theme">theme</a> provided by <a href="https://readthedocs.org">Read the Docs</a>. 

</footer>

        </div>
      </div>

    </section>

  </div>
  


  <script type="text/javascript">
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script>

  
  
    
   

</body>
</html>